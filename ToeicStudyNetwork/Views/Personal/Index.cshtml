@model ToeicStudyNetwork.Models.PersonalModel
@{
    ViewData["Title"] = "User Profile";
}
@section customHead {
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/profile_index.css" asp-append-version="true" />
}

<!-- Header Section -->
<header class="bg-light">
    <div class="container py-5 text-center"
        style="background-image: url(https://firebasestorage.googleapis.com/v0/b/toeicstudynetwork.appspot.com/o/userBackground%2Fuser_background_6.jpg?alt=media&token=5e1ff5ee-7c91-4413-b4be-9c728f407da4); width: 100%; height: 50vh; background-repeat: no-repeat; background-size: cover;">
        <div class="d-flex justify-content-center flex-column align-items-center">
            <a id="choose-image-button" class="image-container p-2 hover-pointer">
                <img src="@Model.User.ImageUrl" alt="Profile Picture" class="rounded-circle"
                    style="height: 100px; width: 100px; background-color: white;">
                <div class="overlay-text">Thay đổi hình ảnh</div>
            </a>
            <div>
                <div class="d-flex flex-row justify-content-center align-items-center" id="username-wrapper">
                    <h2 class="mt-4 text-black fw-bold" id="username">@Model.User.Username</h2>
                    <a class="hover-pointer justify-content-between align-items-center ms-2 mt-3">
                        <i class="bi bi-pencil" id="change-name-button"></i>
                    </a>
                </div>
                <h5 class="text-black fw-bold">@Model.User.Email</h5>
            </div>
        </div>
    </div>
</header>

<!-- Navigation Tabs -->
<div class="container mt-4">
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Kết quả luyện thi</a>
        </li>
    </ul>
</div>

<!-- Main Content -->
<div class="container mt-4">


    <!-- Table Section -->
    <div class="table-responsive mt-3">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Tên bài thi</th>
                    <th>Ngày làm</th>
                    <th>Kết quả</th>
                    <th>Thời gian làm bài</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var userResult in @Model.UserResults)
                {
                    <tr>
                        <td></td>
                        <td>@userResult.CreatedAt</td>
                        <td>@userResult.Score</td>
                        <td>@userResult.TimeTaken</td>
                        <td><a href="/Test/{@userResult.ExamId}/result/{@userResult.UserResultId}"
                                class="btn btn-sm btn-primary">Xem chi tiết</a></td>
                    </tr>
                }

            </tbody>
        </table>
    </div>
</div>


@section scripts
{
    <script src="js/profile_index.js"></script>
}
